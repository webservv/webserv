# this is example of config file from GPT when I put explanation of config in subject 

server {
    listen 80;
    server_name www.example.com;

    # 4. Setup default error pages
    error_page 404 /errors/404.html;
    error_page 500 502 503 504 /errors/50x.html;

    # 5. Limit client body size
    client_max_body_size 10M;

    # 6. Routes Configuration
    location / {
        # 1. Define accepted HTTP methods
        if ($request_method !~ ^(GET|POST|HEAD)$) {
            return 405;
        }

        # 2. HTTP Redirection
        if ($request_uri ~ ^/old-url) {
            return 301 http://www.example.com/new-url;
        }

        # 3. Directory or file root
        root /var/www/html;
        index index.html;

        # 4. Turn off directory listing
        autoindex off;

        # 5. Set default file for directories
        try_files $uri $uri/ /index.html;

        # 6. Execute PHP files
        location ~ \.php$ {
            include fastcgi_params;
            fastcgi_pass unix:/var/run/php-fpm.sock;
            fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        }

        # 7. Make it work with GET and POST methods
        if ($request_method !~ ^(GET|POST)$) {
            return 405;
        }

        # 8. Accept uploaded files and configure save location
        location /upload {
            client_max_body_size 20M;
            upload_store /var/www/uploads;
            upload_pass_form_field "^($upload_field_name)$|^tmp_file$";
            upload_cleanup 400 404 499 500-505;
            upload_limit_rate 2M;
        }
    }

    # Add more server blocks for additional virtual hosts or routes
}
